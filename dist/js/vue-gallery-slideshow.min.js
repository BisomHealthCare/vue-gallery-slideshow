!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):e.VueGallerySlideshow=i()}(this,function(){"use strict";return function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style"),t=".modal-slideshow { transition: opacity 0.2s ease; position: fixed; z-index: 9998; top: 0; left: 0; width: 100%; min-height: 100%; height: 100vh; background-color: rgba(0, 0, 0, 0.8); display: table; background-color: rgba(0, 0, 0, 0.8); } .modal-slideshow__close { color: #fff; position: absolute; top: 10px; right: 10px; pointer: cursor; } .modal-slideshow__prev, .modal-slideshow__next { position: absolute; top: 50%; margin-top: -25px; width: 50px; height: 50px; background-repeat: no-repeat; background-position: center; z-index: 999; cursor: pointer; } .modal-slideshow__prev { left: 0; margin-top: -25px; } .modal-slideshow__next { right: 0; } .modal-slideshow__container { position: absolute; cursor: pointer; margin: 0 auto; overflow: hidden; /* @include respond-to(small) { width: 100%; top: 50%; margin-top: -150px; } @include respond-to(medium) { max-width: 100vh; margin: auto; top: 2rem; left: 0.5rem; right: 0.5rem; } */ max-width: 100vh; margin: auto; top: 2rem; left: 0.5rem; right: 0.5rem; } .modal-slideshow__container__image { background-color: #000; /* @include respond-to(small) { height: 274px; } @include respond-to(medium) { height: 60vh; border-radius: $radius-large; overflow: hidden; } */ height: 60vh; border-radius: 12px; overflow: hidden; } .modal-slideshow__container__image__img { display: block; margin: 0 auto; height: 100%; } .modal-slideshow__gallery { /* @include respond-to(small) { display: none; } @include respond-to(medium) { overflow-x: hidden; overflow-y: hidden; position: absolute; bottom: 10px; margin: auto; max-width: 100vh; white-space: nowrap; left: 0.5rem; right: 0.5rem; } */ overflow-x: hidden; overflow-y: hidden; position: absolute; bottom: 10px; margin: auto; max-width: 100vh; white-space: nowrap; left: 0.5rem; right: 0.5rem; } .modal-slideshow__gallery__title { color: #fff; margin-bottom: 0.5rem; } .modal-slideshow__gallery__container { overflow: visible; display: block; height: 100px; white-space: nowrap; transition: all 200ms ease-in-out; width: 100%; } .modal-slideshow__gallery__container__img { width: 100px; height: 100px; object-fit: cover; display: inline-block; float: none; margin-right: 20px; cursor: pointer; opacity: 0.6; border-radius: 8px; } .modal-slideshow__gallery__container__img--active { width: 100px; display: inline-block; float: none; opacity: 1; } ";i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i)}}(),{render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("transition",{attrs:{name:"modal"}},[null!==e.imgIndex?t("div",{staticClass:"modal-slideshow",on:{click:e.close}},[t("div",{staticClass:"modal-slideshow__close",on:{click:e.close}},[e._v("x")]),t("button",{staticClass:"modal-slideshow__prev",on:{click:function(i){return i.stopPropagation(),e.onPrev(i)}}}),e.images?t("div",{staticClass:"modal-slideshow__container",on:{click:function(i){return i.stopPropagation(),e.onNext(i)}}},[t("div",{staticClass:"modal-slideshow__container__image"},[t("img",{staticClass:"modal-slideshow__container__image__img",attrs:{src:e.imageUrl},on:{click:function(i){return i.stopPropagation(),e.onNext(i)}}})])]):e._e(),t("button",{staticClass:"modal-slideshow__next",on:{click:function(i){return i.stopPropagation(),e.onNext(i)}}}),t("div",{ref:"gallery",staticClass:"modal-slideshow__gallery"},[e.images?t("div",{staticClass:"modal-slideshow__gallery__title"},[e._v(e._s(e.imgIndex+1)+" / "+e._s(e.images.length))]):e._e(),e.images?t("div",{staticClass:"modal-slideshow__gallery__container",style:{transform:"translate("+e.galleryXPos+"px, 0)"}},e._l(e.images,function(i,o){return t("img",{staticClass:"modal-slideshow__gallery__container__img",class:{"modal-slideshow__gallery__container__img--active":o===e.imgIndex},attrs:{src:i},on:{click:function(t){t.stopPropagation(),e.onClickThumb(i,o)}}})})):e._e()])]):e._e()])},staticRenderFns:[],props:["images","index"],mounted(){window.addEventListener("keydown",e=>{37===e.keyCode&&this.onPrev(),39===e.keyCode&&this.onNext()})},watch:{index(e){this.imgIndex=e}},methods:{close(){this.imgIndex=null},onPrev(){this.imgIndex>0?this.imgIndex--:this.imgIndex=this.images.length-1,this.updateThumbails()},onNext(){this.imgIndex<this.images.length-1?this.imgIndex++:this.imgIndex=0,this.updateThumbails()},onClickThumb(e,i){this.imgIndex=i,this.updateThumbails()},updateThumbails(){if(!this.$refs.gallery)return;const e=this.$refs.gallery.clientWidth,i=this.imgIndex*this.thumbnailWidth,t=Math.floor(e/(2*this.thumbnailWidth))*this.thumbnailWidth;i<t||e>=i?this.galleryXPos=0:i>this.images.length*this.thumbnailWidth-e+t?this.galleryXPos=-(this.images.length*this.thumbnailWidth-e-20):this.galleryXPos=-this.imgIndex*this.thumbnailWidth+t}},computed:{imageUrl(){return this.images[this.imgIndex]}},data(){return{imgIndex:this.index,image:null,galleryXPos:0,thumbnailWidth:120}}}});
